[{"path":"contents/api/getting-started/register.md","content":"---\ntitle: 註冊\ndescription: 取得專屬於您的 Key 與 Token\nindex: 0\n---\n\n\n\n\n## 取得 Key\n\n聯絡「<a href=\"https://kwmapdeveloper.localking.com.tw/\" target=\"_blank\">勤崴國際團</a>」，取得專屬<code>Key</code>。\n\n\n\n\n## 取得 Token\n\n取得專屬 `Key` 後，將 `Key` 與網域分別帶入以下欄位，即可取得專屬的 `Token`。\n\n**注意：**`Token` 會與網域綁定，如需更改網域，請重新生成 `Token`。\n\n<Register/>"},{"path":"contents/api/getting-started/setup.md","content":"---\ntitle: 安裝與初始化\ndescription: 安裝 mapPlus 到你的專案，開始開發地圖\nindex: 1\n---\n\n\n\n\n可使用 npm 安裝 `@kwmap/mapplus`（建議），或是使用 CDN 標籤引入。\n\n安裝完後，於[註冊](./register)頁面取得專屬的 Key 和 Token 後，即可開始建立地圖。\n\n\n\n\n## 使用 CDN 引入\n\n於頁面 `<head/>` 標籤中引入 `mapPlus`。\n\n```html\n<script src=__MAPPLUS__ crossorigin=\"anonymous\" referrerpolicy=\"origin\"></script>\n```\n\n**快速開始：**\n\n```html\n<!DOCTYPE html>\n<html>\n\n<head>\n<meta charset=utf-8 />\n<title>Kingway Map</title>\n<meta name=\"viewport\" content=\"initial-scale=1,maximum-scale=1,user-scalable=no\" />\n<script src=__MAPPLUS__ crossorigin=\"anonymous\" referrerpolicy=\"origin\"></script>\n<style>\n  body { margin: 0; padding: 0; }\n  #map { width: 100vw; height: 100vh; }\n</style>\n</head>\n\n<body>\n<div id=\"map\"></div>\n<script type=\"module\">\n  const map = await new mapPlus(document.getElementById('map'), {\n    accessKey: __KEY__,\n    accessToken: __TOKEN__,\n    style: __STYLE__,\n    center: [121.53559860212545, 25.029308142529132],\n  });\n\n  map.on('style.load', () => {\n    // 可以開始調用 map\n  });\n</script>\n</body>\n\n</html>\n```\n\n\n\n\n## 使用 npm 安裝\n\n在終端機中執行以下指令安裝 `@kwmap/mapplus`。\n\n```bash\nnpm install @kwmap/mapplus\n```\n\n\n\n\n---\n\n### 使用原生 JavaScript 開發\n\n**index.html：**\n\n於 html 中引入建立地圖容器。\n\n```html\n<div id=\"map\" style=\"width: 100vw; height: 100vh;\"></div>\n```\n\n**main.js：**\n\n建立 `main.js`，並引入 `mapPlus`，即可開始使用地圖。\n\n```js\nimport mapPlus from '@kwmap/mapplus';\n\nconst map = await new mapPlus(document.getElementById('map'), {\n  accessKey: __KEY__,\n  accessToken: __TOKEN__,\n  style: __STYLE__,\n  center: [121.53559860212545, 25.029308142529132],\n});\n```\n\n\n\n\n---\n\n### 使用 React 開發\n\n**※注意：** 需使用 React `v17.0.0` 以上版本。\n\n**main.jsx：**\n\n於 `main.jsx` 使用 `<MapProvider>` 包裹 `useMap()` 與 `<MapComponent>` 作用域。\n\n```jsx\nimport { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\nimport { MapProvider } from '@kwmap/mapplus/libs/react';\nimport Map from './components/Map';\nimport './main.css';\n\ncreateRoot(document.getElementById('root')).render(\n  <StrictMode>\n    <MapProvider>\n      <Map/>\n    </MapProvider>\n  </StrictMode>,\n);\n```\n\n**components/Map.jsx：**\n\n建立 `components/Map.jsx`，並引入 `<MapComponent>` 與 `useMap()`，即可開始使用地圖。\n\n```jsx\nimport { useEffect } from 'react';\nimport { MapComponent, useMap, mapPlus } from '@kwmap/mapplus/libs/react';\n\nexport default function Map() {\n  const { map } = useMap();\n\n  const mapOptions = {\n    accessKey: __KEY__,\n    accessToken: __TOKEN__,\n    style: __STYLE__,\n    center: [121.53559860212545, 25.029308142529132],\n  }\n\n  useEffect(() => {\n    if (map) {\n      // 可以開始調用 map\n    }\n  }, [map]);\n\n  return (\n    <MapComponent\n      mapOptions={mapOptions}\n    />\n  );\n}\n```\n\n\n\n\n---\n\n### 使用 Vue 開發\n\n**※注意：** 需使用 Vue `v3.0.0` 以上版本。\n\n**components/Map.vue：**\n\n建立 `components/Map.vue`，並引入 `<MapComponent>` 與 `useMap()`，即可開始使用地圖。\n\n```vue\n<script setup>\nimport { MapComponent, useMap, mapPlus } from '@kwmap/mapplus/libs/vue';\n\nconst mapOptions = {\n  accessKey: __KEY__,\n  accessToken: __TOKEN__,\n  style: __STYLE__,\n  center: [121.53559860212545, 25.029308142529132],\n}\n\nconst mapOnStyleLoad = () => {\n  const { map } = useMap();\n  // 可以開始調用 map\n}\n</script>\n\n<template>\n  <MapComponent\n    :mapOptions=\"mapOptions\"\n    @style-load=\"mapOnStyleLoad\"\n  />\n</template>\n```\n\n\n\n\n---\n\n### 使用 Vite 打包\n\n**※注意：** 需使用 npm 安裝 `@kwmap/mapplus`。\n\n在 `vite.config.js` 中引入 `viteMapPlusPlugin()`。\n\n```js\nimport { defineConfig } from 'vite';\nimport viteMapPlusPlugin from '@kwmap/mapplus/libs/vite';\n\nexport default defineConfig({\n  plugins: [\n    viteMapPlusPlugin(),\n  ],\n});\n```"},{"path":"contents/api/map/parameters.md","content":"---\ntitle: 參數\ndescription: mapPlus的參數說明\nindex: 0\n---\n\n\n\n\n於[註冊](../getting-started/register)取得專屬的 Key 和 Token 後，並安裝完 mapPlus，即可使用以下程式碼，快速建立地圖。\n\n\n\n\n## 參數說明\n\n`await new mapPlus(container, options)`\n\n地圖為非同步載入，建立地圖時，需使用 `await` 等待地圖載入完成。\n\n**參數：**\n\n- **container** `string|HTMLElement` : 地圖的容器，可填選`id`名稱或是`HTMLElement`。\n- **options** `Object` : \n\n| 名稱 | 描述 |\n| :-- | :-- |\n| **options.accessKey** `string` | 地圖的 Key，聯絡勤崴國際團隊，取得專屬 Key。 |\n| **options.accessToken** `string` | 地圖的 Token，取得專屬 Key 後，於 'Get Key and Token' 頁面取得專屬的 Token。 |\n| **options.style** `string` | 地圖的樣式，接受`.etxt`格式資料。 |\n| **options.center** `number[]` | 地圖的初始的中心點，格式為`[經度, 緯度]`。 |\n| **options.trackResize** `boolean`<br>預設: `true` | 若為`true`，地圖會在瀏覽器視窗變更大小時自動調整大小。 |\n| **options.zoom** `number`<br>預設: `16` | 地圖的初始縮放級別`(0-24)`，預設為`16`。 |\n| **options.minZoom** `number`<br>預設: `7` | 地圖的最小縮放級別`(0-24)`，預設為`7`。 |\n| **options.maxZoom** `number`<br>預設: `16.99` | 地圖的最大縮放級別`(0-24)`，預設為`16.99`。 |\n| **options.scrollZoom** `boolean`<br>預設: `true` | 若為`true`，將啟用「滾動縮放」互動。 |\n| **options.boxZoom** `boolean`<br>預設: `true` | 若為`true`，將啟用「方框縮放」互動。 |\n| **options.doubleClickZoom** `boolean`<br>預設: `true` | 若為`true`，將啟用「雙擊縮放」互動。 |\n| **options.touchZoomRotate** `boolean`<br>預設: `true` | 若為`true`，將啟用「捏取以旋轉和縮放」互動。 |\n| **options.pitch** `number`<br>預設: `0` | 地圖的初始傾斜角`(0-85)`，預設為`0`。 |\n| **options.minPitch** `number`<br>預設: `0` | 地圖的最小傾斜角`(0-85)`，預設為`0`。 |\n| **options.maxPitch** `number`<br>預設: `60` | 地圖的最大傾斜角`(0-85)`，預設為`60`。 |\n| **options.pitchWithRotate** `boolean`<br>預設: `true` | 若為`false`，使用者將無法透過「拖曳以旋轉」互動來控制地圖的傾斜角。 |\n| **options.touchPitch** `boolean`<br>預設: `true` | 若為`true`，將啟用「拖曳以傾斜」互動。 |\n| **options.bearing** `number`<br>預設: `0` | 地圖的初始旋轉角，以度數計，預設為`0`。 |\n| **options.bearingSnap** `number`<br>預設: `7` | 定地圖的方向(方位)在多少度內會貼齊北方。例如，若`bearingSnap`為`7`，當使用者將地圖旋轉在距離北方`7`度以內，地圖會自動貼齊正北方向。 |\n| **options.dragRotate** `boolean`<br>預設: `true` | 若為`true`，將啟用「拖曳以旋轉」互動。 |\n| **options.dragPan** `boolean`<br>預設: `true` | 若為`true`，將啟用「拖曳以平移」互動。 |\n| **options.keyboard** `boolean`<br>預設: `true` | 若為`true`，將啟用鍵盤快捷鍵。 |\n| **options.interactive** `boolean`<br>預設: `true` | 若為`false`，地圖將不會附加滑鼠、觸控或鍵盤監聽器，因此不會對互動作出回應。 |\n| **options.bounds** `Array` `null` `undefined`<br>預設: `undefined` | 地圖的初始範圍。如果指定了`bounds`，它將覆蓋建構選項中的`center`和`zoom`。 |\n| **options.maxBounds** `Array` `null` `undefined`<br>預設: `undefined` | 若設定，地圖將受限於指定的範圍內。 |\n\n\n\n\n## 使用範例\n\n基本使用：\n\n```javascript\nconst map = await new mapPlus(document.getElementById('map'), {\n    accessKey: __KEY__,\n    accessToken: __TOKEN__,\n    style: __STYLE__,\n});\n```\n\n進階使用：\n\n```javascript\nconst map = await new mapPlus(document.getElementById('map'), {\n    accessKey: __KEY__,\n    accessToken: __TOKEN__,\n    style: __STYLE__,\n    center: [120.5, 24.0],\n    trackResize: true,\n    zoom: 16,\n    minZoom: 7,\n    maxZoom: 16.99,\n    scrollZoom: true,\n    boxZoom: true,\n    doubleClickZoom: true,\n    touchZoomRotate: true,\n    pitch: 0,\n    minPitch: 0,\n    maxPitch: 60,\n    pitchWithRotate: true,\n    touchPitch: true,\n    bearing: 0,\n    bearingSnap: 7,\n    dragRotate: true,\n    dragPan: true,\n    keyboard: true,\n    interactive: true,\n    maxBounds: [[120.0, 23.5], [121.0, 24.5]],\n    // bounds: [[120.5, 24.0], [121.0, 24.5]], 若有設定 bounds，center 和 zoom 將被覆蓋\n});\n```"}]